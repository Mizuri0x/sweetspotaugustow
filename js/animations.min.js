document.addEventListener('DOMContentLoaded',()=>{if(window.matchMedia('(prefers-reduced-motion: reduce)').matches)return;const observer=new IntersectionObserver((entries)=>{entries.forEach(entry=>{if(entry.isIntersecting){entry.target.classList.add('revealed');observer.unobserve(entry.target);}});},{threshold:0.1,rootMargin:'0px 0px -50px 0px'});function observeElements(){document.querySelectorAll('.reveal-on-scroll:not(.revealed)').forEach(el=>{observer.observe(el);});}
observeElements();const grid=document.getElementById('productsGrid');if(grid){const mutationObs=new MutationObserver(()=>{observeElements();});mutationObs.observe(grid,{childList:true});}});